<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>XRP Testnet Wallet</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <style>
    body {
      font-family: Arial, sans-serif;
      background-image: url('{{ url_for('static', filename='background.PNG') }}');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      min-height: 100vh;
      padding: 0;
    }

    .container-fluid {
      padding: 15px;
      max-width: 100%;
    }

    .fixed-bottom-card {
      position: fixed;
      bottom: 170px;
      left: 30px;
      right: 30px;
      background-color: rgba(255, 255, 255, 1);
      border-radius: 10px 10px 0 0;
      /* Reduced padding to shrink overall card height */
      padding: 8px;
    }

    /* Make the inner card smaller */
    .fixed-bottom-card .card {
      margin: 0; /* remove extra margin */
      border: none; /* optionally remove card border, since parent has one */
    }

    /* Smaller font sizes for texts inside the card */
    .fixed-bottom-card h5 {
      font-size: 1.1rem; /* default ~1.25rem -> smaller */
      margin-bottom: 0.5rem;
    }

    .fixed-bottom-card h6 {
      font-size: 0.9rem;
      margin-bottom: 0.25rem;
    }

    .fixed-bottom-card p {
      font-size: 0.8rem;
      margin-bottom: 0;
    }

    .fixed-bottom-card img {
      max-width: 19px; 
    }
  </style>
</head>
<body>
  <div class="container-fluid py-3">
    <!-- Alerts -->
    {% if message %}
    <div class="alert alert-success" role="alert">
      {{ message }}
    </div>
    {% endif %}
    {% if error %}
    <div class="alert alert-danger" role="alert">
      {{ error }}
    </div>
    {% endif %}

    <!-- Create Wallet Section -->
    {% if not global_temp_address or not global_temp_seed %}
    <div class="fixed-bottom-card">
      <div class="card">
        <div class="card-body">
          <h5>仮想通貨の取り扱いを始める</h5>
          <form action="/create_wallet" method="get">
            <button type="submit" class="btn btn-primary w-100">
              Create リップル（XRP）Wallet
            </button>
          </form>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Wallet Details -->
    {% if global_temp_address and global_temp_seed %}
    <!-- Bottom Card with Amount -->
    <div class="fixed-bottom-card">
      <div class="d-flex align-items-center">
        <!-- Icon Section -->
        <div
          class="me-3 d-flex justify-content-center align-items-center rounded-circle icon-circle"
        >
          <img
            src="{{ url_for('static', filename='xrp.png') }}"
            alt="XRP Icon"
            class="img-fluid"
          />
        </div>

        <!-- Details Section -->
        <div class="flex-grow-1">
          <h6 class="mb-1">リップル（XRP）Wallet</h6>
          <p class="text-muted small">
            {{ wallet_details.balance if wallet_details.balance else "0" }} XRP
          </p>
        </div>

        <!-- Amount Section -->
        <div class="text-end">
          <h5 class="mb-0">
            {{ wallet_details.xrp*wallet_details.balance if wallet_details.xrp else "0" }}円
          </h5>
          <p class="text-muted small">
            1xrp = {{ wallet_details.xrp if wallet_details.xrp else "0" }}円
          </p>
        </div>
      </div>
    </div>
    {% endif %}
  </div>

  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
  ></script>
</body>
</html>
